{"version":3,"sources":["js/todo.js"],"names":["todoForm","document","querySelector","todoInput","todoList","TODOS_LS","toDos","deleteToDo","e","btn","target","li","parentNode","removeChild","cleanToDos","filter","todo","id","parseInt","saveToDos","localStorage","setItem","JSON","stringify","paintToDo","text","createElement","delBtn","innerText","addEventListener","span","newId","length","appendChild","toDoObj","push","handleSubmit","preventDefault","currentValue","value","loadTodos","loadToDos","getItem","parsedToDos","parse","forEach","init"],"mappings":"AAAA,IAAMA,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;AACA,IAAMC,SAAS,GAAGH,QAAQ,CAACE,aAAT,CAAuB,OAAvB,CAAlB;AACA,IAAME,QAAQ,GAAGH,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;AAEA,IAAMG,QAAQ,GAAG,OAAjB,EAA0B;;AAE1B,IAAIC,KAAK,GAAG,EAAZ,EAEA;;AACA,SAASC,UAAT,CAAoBC,CAApB,EAAuB;AACtB,MAAMC,GAAG,GAAGD,CAAC,CAACE,MAAd,CADsB,CAGtB;;AACA,MAAMC,EAAE,GAAGF,GAAG,CAACG,UAAf;AACAR,EAAAA,QAAQ,CAACS,WAAT,CAAqBF,EAArB,EALsB,CAOtB;AACA;;AACA,MAAMG,UAAU,GAAGR,KAAK,CAACS,MAAN,CAAa,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACC,EAAL,KAAYC,QAAQ,CAACP,EAAE,CAACM,EAAJ,CAA9B;AAAA,GAAb,CAAnB,CATsB,CAWtB;AACA;;AACAX,EAAAA,KAAK,GAAGQ,UAAR,CAbsB,CAetB;;AACAK,EAAAA,SAAS;AACT;;AAED,SAASA,SAAT,GAAqB;AACpBC,EAAAA,YAAY,CAACC,OAAb,CAAqBhB,QAArB,EAA+BiB,IAAI,CAACC,SAAL,CAAejB,KAAf,CAA/B;AACA,EACD;;;AAEA,IAAMkB,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAU;AAC5B,MAAMd,EAAE,GAAGV,QAAQ,CAACyB,aAAT,CAAuB,IAAvB,CAAX;AACC,MAAMC,MAAM,GAAG1B,QAAQ,CAACyB,aAAT,CAAuB,QAAvB,CAAf;AACAC,EAAAA,MAAM,CAACC,SAAP,GAAmB,GAAnB;AACAD,EAAAA,MAAM,CAACE,gBAAP,CAAwB,OAAxB,EAAiCtB,UAAjC;AACA,MAAMuB,IAAI,GAAG7B,QAAQ,CAACyB,aAAT,CAAuB,MAAvB,CAAb;AACA,MAAMK,KAAK,GAAGzB,KAAK,CAAC0B,MAAN,GAAe,CAA7B;AACAF,EAAAA,IAAI,CAACF,SAAL,GAAiBH,IAAjB;AAEAd,EAAAA,EAAE,CAACsB,WAAH,CAAeN,MAAf;AACAhB,EAAAA,EAAE,CAACsB,WAAH,CAAeH,IAAf;AACAnB,EAAAA,EAAE,CAACM,EAAH,GAAQc,KAAR;AACA3B,EAAAA,QAAQ,CAAC6B,WAAT,CAAqBtB,EAArB;AAEA,MAAMuB,OAAO,GAAG;AACfjB,IAAAA,EAAE,EAAEc,KADW;AAEfN,IAAAA,IAAI,EAAEA;AAFS,GAAhB;AAKAnB,EAAAA,KAAK,CAAC6B,IAAN,CAAWD,OAAX;AACAf,EAAAA,SAAS;AACT,CArBD;;AAuBA,SAASiB,YAAT,CAAsB5B,CAAtB,EAAyB;AACxBA,EAAAA,CAAC,CAAC6B,cAAF;AACA,MAAMC,YAAY,GAAGnC,SAAS,CAACoC,KAA/B;AACAf,EAAAA,SAAS,CAACc,YAAD,CAAT;AACAnC,EAAAA,SAAS,CAACoC,KAAV,GAAkB,EAAlB;AACA;;AAED,SAASC,SAAT,GAAqB;AACpB,MAAMC,SAAS,GAAGrB,YAAY,CAACsB,OAAb,CAAqBrC,QAArB,CAAlB;;AACA,MAAIoC,SAAS,KAAK,IAAlB,EAAwB;AACvB,QAAME,WAAW,GAAGrB,IAAI,CAACsB,KAAL,CAAWH,SAAX,CAApB;AACAE,IAAAA,WAAW,CAACE,OAAZ,CAAoB,UAAC7B,IAAD;AAAA,aAAUQ,SAAS,CAACR,IAAI,CAACS,IAAN,CAAnB;AAAA,KAApB;AACA;AACD;;AAED,SAASqB,IAAT,GAAgB;AACfN,EAAAA,SAAS;AACTxC,EAAAA,QAAQ,CAAC6B,gBAAT,CAA0B,QAA1B,EAAoCO,YAApC;AACA;;AACDU,IAAI","file":"todo.52169671.js","sourceRoot":"..","sourcesContent":["const todoForm = document.querySelector(\".todo_form\");\r\nconst todoInput = todoForm.querySelector(\"input\");\r\nconst todoList = document.querySelector(\".todo_List\");\r\n\r\nconst TODOS_LS = \"toDos\"; //localStorage의 key:value\r\n\r\nlet toDos = [];\r\n\r\n//HTML 삭제\r\nfunction deleteToDo(e) {\r\n\tconst btn = e.target;\r\n\r\n\t//console.dir(btn); -> 부모요소인 li를 찾음\r\n\tconst li = btn.parentNode;\r\n\ttodoList.removeChild(li);\r\n\r\n\t//localStorage에서 삭제\r\n\t//todo.id와 li.id의 type이 다르다. parseInt();\r\n\tconst cleanToDos = toDos.filter((todo) => todo.id !== parseInt(li.id));\r\n\r\n\t//이전 toDos를 변경된 cleanToDos로 update\r\n\t//toDos의 변수 설정이 const -> let으로 변경\r\n\ttoDos = cleanToDos;\r\n\r\n\t//새로운 배열을 저장함\r\n\tsaveToDos()\r\n}\r\n\r\nfunction saveToDos() {\r\n\tlocalStorage.setItem(TODOS_LS, JSON.stringify(toDos));\r\n}\r\n//localStorage에는 js data를 저장 할 수 없다. 오직type이 string만가능\r\n\r\nconst paintToDo = (text) => {\r\nconst li = document.createElement(\"li\");\r\n\tconst delBtn = document.createElement(\"button\");\r\n\tdelBtn.innerText = \"❌\";\r\n\tdelBtn.addEventListener(\"click\", deleteToDo);\r\n\tconst span = document.createElement(\"span\");\r\n\tconst newId = toDos.length + 1;\r\n\tspan.innerText = text\r\n\r\n\tli.appendChild(delBtn);\r\n\tli.appendChild(span);\r\n\tli.id = newId;\r\n\ttodoList.appendChild(li);\r\n\r\n\tconst toDoObj = {\r\n\t\tid: newId,\r\n\t\ttext: text,\r\n\t};\r\n\r\n\ttoDos.push(toDoObj);\r\n\tsaveToDos();\r\n};\r\n\r\nfunction handleSubmit(e) {\r\n\te.preventDefault();\r\n\tconst currentValue = todoInput.value;\r\n\tpaintToDo(currentValue);\r\n\ttodoInput.value = \"\";\r\n}\r\n\r\nfunction loadTodos() {\r\n\tconst loadToDos = localStorage.getItem(TODOS_LS);\r\n\tif (loadToDos !== null) {\r\n\t\tconst parsedToDos = JSON.parse(loadToDos);\r\n\t\tparsedToDos.forEach((todo) => paintToDo(todo.text));\r\n\t}\r\n}\r\n\r\nfunction init() {\r\n\tloadTodos();\r\n\ttodoForm.addEventListener(\"submit\", handleSubmit);\r\n}\r\ninit();\r\n"]}