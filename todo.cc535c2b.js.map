{"version":3,"sources":["js/todo.js"],"names":["todoForm","document","querySelector","todoInput","todoList","TODOS_LS","toDos","deleteToDo","e","btn","li","target","parentNode","removeChild","cleanToDos","filter","todo","id","parseInt","saveToDos","localStorage","setItem","JSON","stringify","paintToDo","text","createElement","delBtn","innerText","addEventListener","span","newId","length","appendChild","toDoObj","push","handleSubmit","preventDefault","currentValue","value","loadTodos","loadToDos","getItem","parse","forEach","init"],"mappings":";AAAA,IAAMA,EAAWC,SAASC,cAAc,cAClCC,EAAYH,EAASE,cAAc,SACnCE,EAAWH,SAASC,cAAc,cAElCG,EAAW,QAEbC,EAAQ,GAGZ,SAASC,EAAWC,GACbC,IAGAC,EAHMF,EAAEG,OAGCC,WACfR,EAASS,YAAYH,GAIfI,IAAAA,EAAaR,EAAMS,OAAO,SAACC,GAASA,OAAAA,EAAKC,KAAOC,SAASR,EAAGO,MAIlEX,EAAQQ,EAGRK,IAGD,SAASA,IACRC,aAAaC,QAAQhB,EAAUiB,KAAKC,UAAUjB,IAI/C,IAAMkB,EAAY,SAACC,GACbf,IAAAA,EAAKT,SAASyB,cAAc,MAC3BC,EAAS1B,SAASyB,cAAc,UACtCC,EAAOC,UAAY,IACnBD,EAAOE,iBAAiB,QAAStB,GAC3BuB,IAAAA,EAAO7B,SAASyB,cAAc,QAC9BK,EAAQzB,EAAM0B,OAAS,EAC7BF,EAAKF,UAAYH,EAEjBf,EAAGuB,YAAYN,GACfjB,EAAGuB,YAAYH,GACfpB,EAAGO,GAAKc,EACR3B,EAAS6B,YAAYvB,GAEfwB,IAAAA,EAAU,CACfjB,GAAIc,EACJN,KAAMA,GAGPnB,EAAM6B,KAAKD,GACXf,KAGD,SAASiB,EAAa5B,GACrBA,EAAE6B,iBACIC,IAAAA,EAAenC,EAAUoC,MAC/Bf,EAAUc,GACVnC,EAAUoC,MAAQ,GAGnB,SAASC,IACFC,IAAAA,EAAYrB,aAAasB,QAAQrC,GACrB,OAAdoC,GACiBnB,KAAKqB,MAAMF,GACnBG,QAAQ,SAAC5B,GAASQ,OAAAA,EAAUR,EAAKS,QAI/C,SAASoB,IACRL,IACAxC,EAAS6B,iBAAiB,SAAUO,GAErCS","file":"todo.cc535c2b.js","sourceRoot":"..","sourcesContent":["const todoForm = document.querySelector(\".todo_form\");\r\nconst todoInput = todoForm.querySelector(\"input\");\r\nconst todoList = document.querySelector(\".todo_List\");\r\n\r\nconst TODOS_LS = \"toDos\"; //localStorage의 key:value\r\n\r\nlet toDos = [];\r\n\r\n//HTML 삭제\r\nfunction deleteToDo(e) {\r\n\tconst btn = e.target;\r\n\r\n\t//console.dir(btn); -> 부모요소인 li를 찾음\r\n\tconst li = btn.parentNode;\r\n\ttodoList.removeChild(li);\r\n\r\n\t//localStorage에서 삭제\r\n\t//todo.id와 li.id의 type이 다르다. parseInt();\r\n\tconst cleanToDos = toDos.filter((todo) => todo.id !== parseInt(li.id));\r\n\r\n\t//이전 toDos를 변경된 cleanToDos로 update\r\n\t//toDos의 변수 설정이 const -> let으로 변경\r\n\ttoDos = cleanToDos;\r\n\r\n\t//새로운 배열을 저장함\r\n\tsaveToDos()\r\n}\r\n\r\nfunction saveToDos() {\r\n\tlocalStorage.setItem(TODOS_LS, JSON.stringify(toDos));\r\n}\r\n//localStorage에는 js data를 저장 할 수 없다. 오직type이 string만가능\r\n\r\nconst paintToDo = (text) => {\r\nconst li = document.createElement(\"li\");\r\n\tconst delBtn = document.createElement(\"button\");\r\n\tdelBtn.innerText = \"❌\";\r\n\tdelBtn.addEventListener(\"click\", deleteToDo);\r\n\tconst span = document.createElement(\"span\");\r\n\tconst newId = toDos.length + 1;\r\n\tspan.innerText = text\r\n\r\n\tli.appendChild(delBtn);\r\n\tli.appendChild(span);\r\n\tli.id = newId;\r\n\ttodoList.appendChild(li);\r\n\r\n\tconst toDoObj = {\r\n\t\tid: newId,\r\n\t\ttext: text,\r\n\t};\r\n\r\n\ttoDos.push(toDoObj);\r\n\tsaveToDos();\r\n};\r\n\r\nfunction handleSubmit(e) {\r\n\te.preventDefault();\r\n\tconst currentValue = todoInput.value;\r\n\tpaintToDo(currentValue);\r\n\ttodoInput.value = \"\";\r\n}\r\n\r\nfunction loadTodos() {\r\n\tconst loadToDos = localStorage.getItem(TODOS_LS);\r\n\tif (loadToDos !== null) {\r\n\t\tconst parsedToDos = JSON.parse(loadToDos);\r\n\t\tparsedToDos.forEach((todo) => paintToDo(todo.text));\r\n\t}\r\n}\r\n\r\nfunction init() {\r\n\tloadTodos();\r\n\ttodoForm.addEventListener(\"submit\", handleSubmit);\r\n}\r\ninit();\r\n"]}